<!doctype html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
	</head>

	<body>
		<h1>Echo Test</h1>
		<input type="text" name="" id="sendTxt" value="" />
		<button type="button" id="sendBtn">发送</button>
		<div id="recv"> </div>
	</body>
	<script type="text/javascript">
		var websocket = new WebSocket("ws://echo.websocket.org");

		websocket.onopen = function() {
			document.getElementById('recv').innerHTML = "Connected";
		}
		websocket.onclose = function() {
			console.log('websocket close');
		}
		websocket.onmessage = function(e) {
			console.log(e.data);
			document.getElementById("recv").innerHTML = e.data;
		}
		document.getElementById("sendBtn").onclick = function() {
			var txt = document.getElementById("sendTxt").value;
			websocket.send(txt);
		}
	</script>
</html>
